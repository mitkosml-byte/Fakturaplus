{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":38,"index":175}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setToken: token => {\n      _servicesApi.api.setToken(token);\n      set({\n        token\n      });\n    },\n    login: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (sessionId) {\n        try {\n          set({\n            isLoading: true\n          });\n          var result = yield _servicesApi.api.createSession(sessionId);\n          yield AsyncStorage.default.setItem('session_token', result.session_token);\n          _servicesApi.api.setToken(result.session_token);\n          set({\n            user: result.user,\n            token: result.session_token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } catch (error) {\n          set({\n            isLoading: false\n          });\n          throw error;\n        }\n      });\n      return function login(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    logout: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          yield _servicesApi.api.logout();\n        } catch (error) {\n          console.error('Logout error:', error);\n        }\n        yield AsyncStorage.default.removeItem('session_token');\n        _servicesApi.api.setToken(null);\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false\n        });\n      });\n      return function logout() {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    checkAuth: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          set({\n            isLoading: true\n          });\n          var token = yield AsyncStorage.default.getItem('session_token');\n          if (token) {\n            _servicesApi.api.setToken(token);\n            var user = yield _servicesApi.api.getMe();\n            set({\n              user,\n              token,\n              isAuthenticated: true,\n              isLoading: false\n            });\n          } else {\n            set({\n              isLoading: false\n            });\n          }\n        } catch (error) {\n          console.error('Auth check error:', error);\n          yield AsyncStorage.default.removeItem('session_token');\n          _servicesApi.api.setToken(null);\n          set({\n            user: null,\n            token: null,\n            isAuthenticated: false,\n            isLoading: false\n          });\n        }\n      });\n      return function checkAuth() {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":122,"map":[[12,2,18,0,"Object"],[12,8,18,0],[12,9,18,0,"defineProperty"],[12,23,18,0],[12,24,18,0,"exports"],[12,31,18,0],[13,4,18,0,"enumerable"],[13,14,18,0],[14,4,18,0,"get"],[14,7,18,0],[14,18,18,0,"get"],[14,19,18,0],[15,6,18,0],[15,13,18,0,"useAuthStore"],[15,25,18,0],[16,4,18,0],[17,2,18,0],[18,2,78,4],[18,6,78,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,78,4],[18,45,78,4,"require"],[18,52,78,4],[18,53,78,4,"_dependencyMap"],[18,67,78,4],[19,2,78,4],[19,6,78,4,"_asyncToGenerator"],[19,23,78,4],[19,26,78,4,"_interopDefault"],[19,41,78,4],[19,42,78,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,78,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,4,0],[23,6,4,0,"_servicesApi"],[23,18,4,0],[23,21,4,0,"require"],[23,28,4,0],[23,29,4,0,"_dependencyMap"],[23,43,4,0],[24,2,18,7],[24,6,18,13,"useAuthStore"],[24,18,18,25],[24,21,18,28],[24,25,18,28,"create"],[24,33,18,34],[24,34,18,34,"create"],[24,40,18,34],[24,42,18,46],[24,43,18,47,"set"],[24,46,18,50],[24,48,18,52,"get"],[24,51,18,55],[24,57,18,61],[25,4,19,2,"user"],[25,8,19,6],[25,10,19,8],[25,14,19,12],[26,4,20,2,"token"],[26,9,20,7],[26,11,20,9],[26,15,20,13],[27,4,21,2,"isLoading"],[27,13,21,11],[27,15,21,13],[27,19,21,17],[28,4,22,2,"isAuthenticated"],[28,19,22,17],[28,21,22,19],[28,26,22,24],[29,4,24,2,"setUser"],[29,11,24,9],[29,13,24,12,"user"],[29,17,24,16],[29,21,24,21,"set"],[29,24,24,24],[29,25,24,25],[30,6,24,27,"user"],[30,10,24,31],[31,6,24,33,"isAuthenticated"],[31,21,24,48],[31,23,24,50],[31,24,24,51],[31,25,24,52,"user"],[32,4,24,57],[32,5,24,58],[32,6,24,59],[33,4,26,2,"setToken"],[33,12,26,10],[33,14,26,13,"token"],[33,19,26,18],[33,23,26,23],[34,6,27,4,"api"],[34,18,27,7],[34,19,27,7,"api"],[34,22,27,7],[34,23,27,8,"setToken"],[34,31,27,16],[34,32,27,17,"token"],[34,37,27,22],[34,38,27,23],[35,6,28,4,"set"],[35,9,28,7],[35,10,28,8],[36,8,28,10,"token"],[37,6,28,16],[37,7,28,17],[37,8,28,18],[38,4,29,2],[38,5,29,3],[39,4,31,2,"login"],[39,9,31,7],[40,6,31,7],[40,10,31,7,"_ref"],[40,14,31,7],[40,21,31,7,"_asyncToGenerator"],[40,38,31,7],[40,39,31,7,"default"],[40,46,31,7],[40,48,31,9],[40,59,31,16,"sessionId"],[40,68,31,33],[40,70,31,38],[41,8,32,4],[41,12,32,8],[42,10,33,6,"set"],[42,13,33,9],[42,14,33,10],[43,12,33,12,"isLoading"],[43,21,33,21],[43,23,33,23],[44,10,33,28],[44,11,33,29],[44,12,33,30],[45,10,34,6],[45,14,34,12,"result"],[45,20,34,18],[45,29,34,27,"api"],[45,41,34,30],[45,42,34,30,"api"],[45,45,34,30],[45,46,34,31,"createSession"],[45,59,34,44],[45,60,34,45,"sessionId"],[45,69,34,54],[45,70,34,55],[46,10,35,6],[46,16,35,12,"AsyncStorage"],[46,28,35,24],[46,29,35,24,"default"],[46,36,35,24],[46,37,35,25,"setItem"],[46,44,35,32],[46,45,35,33],[46,60,35,48],[46,62,35,50,"result"],[46,68,35,56],[46,69,35,57,"session_token"],[46,82,35,70],[46,83,35,71],[47,10,36,6,"api"],[47,22,36,9],[47,23,36,9,"api"],[47,26,36,9],[47,27,36,10,"setToken"],[47,35,36,18],[47,36,36,19,"result"],[47,42,36,25],[47,43,36,26,"session_token"],[47,56,36,39],[47,57,36,40],[48,10,37,6,"set"],[48,13,37,9],[48,14,37,10],[49,12,38,8,"user"],[49,16,38,12],[49,18,38,14,"result"],[49,24,38,20],[49,25,38,21,"user"],[49,29,38,25],[50,12,39,8,"token"],[50,17,39,13],[50,19,39,15,"result"],[50,25,39,21],[50,26,39,22,"session_token"],[50,39,39,35],[51,12,40,8,"isAuthenticated"],[51,27,40,23],[51,29,40,25],[51,33,40,29],[52,12,41,8,"isLoading"],[52,21,41,17],[52,23,41,19],[53,10,42,6],[53,11,42,7],[53,12,42,8],[54,8,43,4],[54,9,43,5],[54,10,43,6],[54,17,43,13,"error"],[54,22,43,18],[54,24,43,20],[55,10,44,6,"set"],[55,13,44,9],[55,14,44,10],[56,12,44,12,"isLoading"],[56,21,44,21],[56,23,44,23],[57,10,44,29],[57,11,44,30],[57,12,44,31],[58,10,45,6],[58,16,45,12,"error"],[58,21,45,17],[59,8,46,4],[60,6,47,2],[60,7,47,3],[61,6,47,3],[61,22,31,2,"login"],[61,27,31,7,"login"],[61,28,31,7,"_x"],[61,30,31,7],[62,8,31,7],[62,15,31,7,"_ref"],[62,19,31,7],[62,20,31,7,"apply"],[62,25,31,7],[62,32,31,7,"arguments"],[62,41,31,7],[63,6,31,7],[64,4,31,7],[64,7,47,3],[65,4,49,2,"logout"],[65,10,49,8],[66,6,49,8],[66,10,49,8,"_ref2"],[66,15,49,8],[66,22,49,8,"_asyncToGenerator"],[66,39,49,8],[66,40,49,8,"default"],[66,47,49,8],[66,49,49,10],[66,62,49,22],[67,8,50,4],[67,12,50,8],[68,10,51,6],[68,16,51,12,"api"],[68,28,51,15],[68,29,51,15,"api"],[68,32,51,15],[68,33,51,16,"logout"],[68,39,51,22],[68,40,51,23],[68,41,51,24],[69,8,52,4],[69,9,52,5],[69,10,52,6],[69,17,52,13,"error"],[69,22,52,18],[69,24,52,20],[70,10,53,6,"console"],[70,17,53,13],[70,18,53,14,"error"],[70,23,53,19],[70,24,53,20],[70,39,53,35],[70,41,53,37,"error"],[70,46,53,42],[70,47,53,43],[71,8,54,4],[72,8,55,4],[72,14,55,10,"AsyncStorage"],[72,26,55,22],[72,27,55,22,"default"],[72,34,55,22],[72,35,55,23,"removeItem"],[72,45,55,33],[72,46,55,34],[72,61,55,49],[72,62,55,50],[73,8,56,4,"api"],[73,20,56,7],[73,21,56,7,"api"],[73,24,56,7],[73,25,56,8,"setToken"],[73,33,56,16],[73,34,56,17],[73,38,56,21],[73,39,56,22],[74,8,57,4,"set"],[74,11,57,7],[74,12,57,8],[75,10,57,10,"user"],[75,14,57,14],[75,16,57,16],[75,20,57,20],[76,10,57,22,"token"],[76,15,57,27],[76,17,57,29],[76,21,57,33],[77,10,57,35,"isAuthenticated"],[77,25,57,50],[77,27,57,52],[78,8,57,58],[78,9,57,59],[78,10,57,60],[79,6,58,2],[79,7,58,3],[80,6,58,3],[80,22,49,2,"logout"],[80,28,49,8,"logout"],[80,29,49,8],[81,8,49,8],[81,15,49,8,"_ref2"],[81,20,49,8],[81,21,49,8,"apply"],[81,26,49,8],[81,33,49,8,"arguments"],[81,42,49,8],[82,6,49,8],[83,4,49,8],[83,7,58,3],[84,4,60,2,"checkAuth"],[84,13,60,11],[85,6,60,11],[85,10,60,11,"_ref3"],[85,15,60,11],[85,22,60,11,"_asyncToGenerator"],[85,39,60,11],[85,40,60,11,"default"],[85,47,60,11],[85,49,60,13],[85,62,60,25],[86,8,61,4],[86,12,61,8],[87,10,62,6,"set"],[87,13,62,9],[87,14,62,10],[88,12,62,12,"isLoading"],[88,21,62,21],[88,23,62,23],[89,10,62,28],[89,11,62,29],[89,12,62,30],[90,10,63,6],[90,14,63,12,"token"],[90,19,63,17],[90,28,63,26,"AsyncStorage"],[90,40,63,38],[90,41,63,38,"default"],[90,48,63,38],[90,49,63,39,"getItem"],[90,56,63,46],[90,57,63,47],[90,72,63,62],[90,73,63,63],[91,10,64,6],[91,14,64,10,"token"],[91,19,64,15],[91,21,64,17],[92,12,65,8,"api"],[92,24,65,11],[92,25,65,11,"api"],[92,28,65,11],[92,29,65,12,"setToken"],[92,37,65,20],[92,38,65,21,"token"],[92,43,65,26],[92,44,65,27],[93,12,66,8],[93,16,66,14,"user"],[93,20,66,18],[93,29,66,27,"api"],[93,41,66,30],[93,42,66,30,"api"],[93,45,66,30],[93,46,66,31,"getMe"],[93,51,66,36],[93,52,66,37],[93,53,66,38],[94,12,67,8,"set"],[94,15,67,11],[94,16,67,12],[95,14,67,14,"user"],[95,18,67,18],[96,14,67,20,"token"],[96,19,67,25],[97,14,67,27,"isAuthenticated"],[97,29,67,42],[97,31,67,44],[97,35,67,48],[98,14,67,50,"isLoading"],[98,23,67,59],[98,25,67,61],[99,12,67,67],[99,13,67,68],[99,14,67,69],[100,10,68,6],[100,11,68,7],[100,17,68,13],[101,12,69,8,"set"],[101,15,69,11],[101,16,69,12],[102,14,69,14,"isLoading"],[102,23,69,23],[102,25,69,25],[103,12,69,31],[103,13,69,32],[103,14,69,33],[104,10,70,6],[105,8,71,4],[105,9,71,5],[105,10,71,6],[105,17,71,13,"error"],[105,22,71,18],[105,24,71,20],[106,10,72,6,"console"],[106,17,72,13],[106,18,72,14,"error"],[106,23,72,19],[106,24,72,20],[106,43,72,39],[106,45,72,41,"error"],[106,50,72,46],[106,51,72,47],[107,10,73,6],[107,16,73,12,"AsyncStorage"],[107,28,73,24],[107,29,73,24,"default"],[107,36,73,24],[107,37,73,25,"removeItem"],[107,47,73,35],[107,48,73,36],[107,63,73,51],[107,64,73,52],[108,10,74,6,"api"],[108,22,74,9],[108,23,74,9,"api"],[108,26,74,9],[108,27,74,10,"setToken"],[108,35,74,18],[108,36,74,19],[108,40,74,23],[108,41,74,24],[109,10,75,6,"set"],[109,13,75,9],[109,14,75,10],[110,12,75,12,"user"],[110,16,75,16],[110,18,75,18],[110,22,75,22],[111,12,75,24,"token"],[111,17,75,29],[111,19,75,31],[111,23,75,35],[112,12,75,37,"isAuthenticated"],[112,27,75,52],[112,29,75,54],[112,34,75,59],[113,12,75,61,"isLoading"],[113,21,75,70],[113,23,75,72],[114,10,75,78],[114,11,75,79],[114,12,75,80],[115,8,76,4],[116,6,77,2],[116,7,77,3],[117,6,77,3],[117,22,60,2,"checkAuth"],[117,31,60,11,"checkAuth"],[117,32,60,11],[118,8,60,11],[118,15,60,11,"_ref3"],[118,20,60,11],[118,21,60,11,"apply"],[118,26,60,11],[118,33,60,11,"arguments"],[118,42,60,11],[119,6,60,11],[120,4,60,11],[121,2,78,0],[121,3,78,1],[121,4,78,2],[121,5,78,3],[122,0,78,4],[122,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","login","logout","checkAuth"],"mappings":"AAA;8CCiB;WCM,gDD;YEE;GFG;SGE;GHgB;UIE;GJS;aKE;GLiB;EDC"},"hasCjsExports":false},"type":"js/module"}]}