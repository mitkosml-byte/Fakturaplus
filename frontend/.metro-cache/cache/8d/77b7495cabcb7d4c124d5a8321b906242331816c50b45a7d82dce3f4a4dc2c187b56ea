{"dependencies":[{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return InternetReachability;\n    }\n  });\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[0]);\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1]);\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  /**\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   */\n  var InternetReachability = /*#__PURE__*/(0, _createClass.default)(function InternetReachability(configuration, listener) {\n    (0, _classCallCheck.default)(this, InternetReachability);\n    this._isInternetReachable = undefined;\n    this._currentInternetReachabilityCheckHandler = null;\n    this._currentTimeoutHandle = null;\n    this._setIsInternetReachable = isInternetReachable => {\n      if (this._isInternetReachable === isInternetReachable) {\n        return;\n      }\n      this._isInternetReachable = isInternetReachable;\n      this._listener(this._isInternetReachable);\n    };\n    this._setExpectsConnection = expectsConnection => {\n      // Cancel any pending check\n      if (this._currentInternetReachabilityCheckHandler !== null) {\n        this._currentInternetReachabilityCheckHandler.cancel();\n        this._currentInternetReachabilityCheckHandler = null;\n      }\n      // Cancel any pending timeout\n      if (this._currentTimeoutHandle !== null) {\n        clearTimeout(this._currentTimeoutHandle);\n        this._currentTimeoutHandle = null;\n      }\n      if (expectsConnection && this._configuration.reachabilityShouldRun()) {\n        // If we expect a connection, start the process for finding if we have one\n        // Set the state to \"null\" if it was previously false\n        if (!this._isInternetReachable) {\n          this._setIsInternetReachable(null);\n        }\n        // Start a network request to check for internet\n        this._currentInternetReachabilityCheckHandler = this._checkInternetReachability();\n      } else {\n        // If we don't expect a connection or don't run reachability check, just change the state to \"false\"\n        this._setIsInternetReachable(false);\n      }\n    };\n    this._checkInternetReachability = () => {\n      var controller = new AbortController();\n      var responsePromise = fetch(this._configuration.reachabilityUrl, {\n        headers: this._configuration.reachabilityHeaders,\n        method: this._configuration.reachabilityMethod,\n        cache: 'no-cache',\n        signal: controller.signal\n      });\n\n      // Create promise that will reject after the request timeout has been reached\n      var timeoutHandle;\n      var timeoutPromise = new Promise((_, reject) => {\n        timeoutHandle = setTimeout(() => reject('timedout'), this._configuration.reachabilityRequestTimeout);\n      });\n\n      // Create promise that makes it possible to cancel a pending request through a reject\n      // eslint-disable-next-line @typescript-eslint/no-empty-function\n      var cancel = () => {};\n      var cancelPromise = new Promise((_, reject) => {\n        cancel = () => reject('canceled');\n      });\n      var promise = Promise.race([responsePromise, timeoutPromise, cancelPromise]).then(response => {\n        return this._configuration.reachabilityTest(response);\n      }).then(result => {\n        this._setIsInternetReachable(result);\n        var nextTimeoutInterval = this._isInternetReachable ? this._configuration.reachabilityLongTimeout : this._configuration.reachabilityShortTimeout;\n        this._currentTimeoutHandle = setTimeout(this._checkInternetReachability, nextTimeoutInterval);\n      }).catch(error => {\n        if ('canceled' === error) {\n          controller.abort();\n        } else {\n          if ('timedout' === error) {\n            controller.abort();\n          }\n          this._setIsInternetReachable(false);\n          this._currentTimeoutHandle = setTimeout(this._checkInternetReachability, this._configuration.reachabilityShortTimeout);\n        }\n      })\n      // Clear request timeout and propagate any errors\n      .then(() => {\n        clearTimeout(timeoutHandle);\n      }, error => {\n        clearTimeout(timeoutHandle);\n        throw error;\n      });\n      return {\n        promise,\n        cancel\n      };\n    };\n    this.update = state => {\n      if (typeof state.isInternetReachable === 'boolean' && this._configuration.useNativeReachability) {\n        this._setIsInternetReachable(state.isInternetReachable);\n      } else {\n        this._setExpectsConnection(state.isConnected);\n      }\n    };\n    this.currentState = () => {\n      return this._isInternetReachable;\n    };\n    this.tearDown = () => {\n      // Cancel any pending check\n      if (this._currentInternetReachabilityCheckHandler !== null) {\n        this._currentInternetReachabilityCheckHandler.cancel();\n        this._currentInternetReachabilityCheckHandler = null;\n      }\n\n      // Cancel any pending timeout\n      if (this._currentTimeoutHandle !== null) {\n        clearTimeout(this._currentTimeoutHandle);\n        this._currentTimeoutHandle = null;\n      }\n    };\n    this._configuration = configuration;\n    this._listener = listener;\n  });\n});","lineCount":142,"map":[[15,13,18,21,"InternetReachability"],[15,33,18,41],[16,4,18,41],[17,2,18,41],[18,2,18,41],[18,6,18,41,"_babelRuntimeHelpersCreateClass"],[18,37,18,41],[18,40,18,41,"require"],[18,47,18,41],[18,48,18,41,"_dependencyMap"],[18,62,18,41],[19,2,18,41],[19,6,18,41,"_createClass"],[19,18,18,41],[19,21,18,41,"_interopDefault"],[19,36,18,41],[19,37,18,41,"_babelRuntimeHelpersCreateClass"],[19,68,18,41],[20,2,18,41],[20,6,18,41,"_babelRuntimeHelpersClassCallCheck"],[20,40,18,41],[20,43,18,41,"require"],[20,50,18,41],[20,51,18,41,"_dependencyMap"],[20,65,18,41],[21,2,18,41],[21,6,18,41,"_classCallCheck"],[21,21,18,41],[21,24,18,41,"_interopDefault"],[21,39,18,41],[21,40,18,41,"_babelRuntimeHelpersClassCallCheck"],[21,74,18,41],[22,2,1,0],[23,0,2,0],[24,0,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,0,7,0],[29,0,8,0],[30,2,1,0],[30,6,18,21,"InternetReachability"],[30,26,18,41],[30,46,18,41,"_createClass"],[30,58,18,41],[30,59,18,41,"default"],[30,66,18,41],[30,68,26,2],[30,77,26,2,"InternetReachability"],[30,98,27,4,"configuration"],[30,111,27,45],[30,113,28,4,"listener"],[30,121,28,68],[30,123,29,4],[31,4,29,4],[31,8,29,4,"_classCallCheck"],[31,23,29,4],[31,24,29,4,"default"],[31,31,29,4],[31,39,29,4,"InternetReachability"],[31,59,29,4],[32,4,29,4],[32,9,21,10,"_isInternetReachable"],[32,29,21,30],[32,32,21,61,"undefined"],[32,41,21,70],[33,4,21,70],[33,9,22,10,"_currentInternetReachabilityCheckHandler"],[33,49,22,50],[33,52,23,4],[33,56,23,8],[34,4,23,8],[34,9,24,10,"_currentTimeoutHandle"],[34,30,24,31],[34,33,24,72],[34,37,24,76],[35,4,24,76],[35,9,34,10,"_setIsInternetReachable"],[35,32,34,33],[35,35,35,4,"isInternetReachable"],[35,54,35,39],[35,58,36,13],[36,6,37,4],[36,10,37,8],[36,14,37,12],[36,15,37,13,"_isInternetReachable"],[36,35,37,33],[36,40,37,38,"isInternetReachable"],[36,59,37,57],[36,61,37,59],[37,8,38,6],[38,6,39,4],[39,6,41,4],[39,10,41,8],[39,11,41,9,"_isInternetReachable"],[39,31,41,29],[39,34,41,32,"isInternetReachable"],[39,53,41,51],[40,6,42,4],[40,10,42,8],[40,11,42,9,"_listener"],[40,20,42,18],[40,21,42,19],[40,25,42,23],[40,26,42,24,"_isInternetReachable"],[40,46,42,44],[40,47,42,45],[41,4,43,2],[41,5,43,3],[42,4,43,3],[42,9,45,10,"_setExpectsConnection"],[42,30,45,31],[42,33,45,35,"expectsConnection"],[42,50,45,68],[42,54,45,79],[43,6,46,4],[44,6,47,4],[44,10,47,8],[44,14,47,12],[44,15,47,13,"_currentInternetReachabilityCheckHandler"],[44,55,47,53],[44,60,47,58],[44,64,47,62],[44,66,47,64],[45,8,48,6],[45,12,48,10],[45,13,48,11,"_currentInternetReachabilityCheckHandler"],[45,53,48,51],[45,54,48,52,"cancel"],[45,60,48,58],[45,61,48,59],[45,62,48,60],[46,8,49,6],[46,12,49,10],[46,13,49,11,"_currentInternetReachabilityCheckHandler"],[46,53,49,51],[46,56,49,54],[46,60,49,58],[47,6,50,4],[48,6,51,4],[49,6,52,4],[49,10,52,8],[49,14,52,12],[49,15,52,13,"_currentTimeoutHandle"],[49,36,52,34],[49,41,52,39],[49,45,52,43],[49,47,52,45],[50,8,53,6,"clearTimeout"],[50,20,53,18],[50,21,53,19],[50,25,53,23],[50,26,53,24,"_currentTimeoutHandle"],[50,47,53,45],[50,48,53,46],[51,8,54,6],[51,12,54,10],[51,13,54,11,"_currentTimeoutHandle"],[51,34,54,32],[51,37,54,35],[51,41,54,39],[52,6,55,4],[53,6,57,4],[53,10,57,8,"expectsConnection"],[53,27,57,25],[53,31,57,29],[53,35,57,33],[53,36,57,34,"_configuration"],[53,50,57,48],[53,51,57,49,"reachabilityShouldRun"],[53,72,57,70],[53,73,57,71],[53,74,57,72],[53,76,57,74],[54,8,58,6],[55,8,59,6],[56,8,60,6],[56,12,60,10],[56,13,60,11],[56,17,60,15],[56,18,60,16,"_isInternetReachable"],[56,38,60,36],[56,40,60,38],[57,10,61,8],[57,14,61,12],[57,15,61,13,"_setIsInternetReachable"],[57,38,61,36],[57,39,61,37],[57,43,61,41],[57,44,61,42],[58,8,62,6],[59,8,63,6],[60,8,64,6],[60,12,64,10],[60,13,64,11,"_currentInternetReachabilityCheckHandler"],[60,53,64,51],[60,56,65,8],[60,60,65,12],[60,61,65,13,"_checkInternetReachability"],[60,87,65,39],[60,88,65,40],[60,89,65,41],[61,6,66,4],[61,7,66,5],[61,13,66,11],[62,8,67,6],[63,8,68,6],[63,12,68,10],[63,13,68,11,"_setIsInternetReachable"],[63,36,68,34],[63,37,68,35],[63,42,68,40],[63,43,68,41],[64,6,69,4],[65,4,70,2],[65,5,70,3],[66,4,70,3],[66,9,72,10,"_checkInternetReachability"],[66,35,72,36],[66,38,72,39],[66,44,72,79],[67,6,73,4],[67,10,73,10,"controller"],[67,20,73,20],[67,23,73,23],[67,27,73,27,"AbortController"],[67,42,73,42],[67,43,73,43],[67,44,73,44],[68,6,75,4],[68,10,75,10,"responsePromise"],[68,25,75,25],[68,28,75,28,"fetch"],[68,33,75,33],[68,34,75,34],[68,38,75,38],[68,39,75,39,"_configuration"],[68,53,75,53],[68,54,75,54,"reachabilityUrl"],[68,69,75,69],[68,71,75,71],[69,8,76,6,"headers"],[69,15,76,13],[69,17,76,15],[69,21,76,19],[69,22,76,20,"_configuration"],[69,36,76,34],[69,37,76,35,"reachabilityHeaders"],[69,56,76,54],[70,8,77,6,"method"],[70,14,77,12],[70,16,77,14],[70,20,77,18],[70,21,77,19,"_configuration"],[70,35,77,33],[70,36,77,34,"reachabilityMethod"],[70,54,77,52],[71,8,78,6,"cache"],[71,13,78,11],[71,15,78,13],[71,25,78,23],[72,8,79,6,"signal"],[72,14,79,12],[72,16,79,14,"controller"],[72,26,79,24],[72,27,79,25,"signal"],[73,6,80,4],[73,7,80,5],[73,8,80,6],[75,6,82,4],[76,6,83,4],[76,10,83,8,"timeoutHandle"],[76,23,83,52],[77,6,84,4],[77,10,84,10,"timeoutPromise"],[77,24,84,24],[77,27,84,27],[77,31,84,31,"Promise"],[77,38,84,38],[77,39,84,49],[77,40,84,50,"_"],[77,41,84,51],[77,43,84,53,"reject"],[77,49,84,59],[77,54,84,70],[78,8,85,6,"timeoutHandle"],[78,21,85,19],[78,24,85,22,"setTimeout"],[78,34,85,32],[78,35,86,8],[78,41,86,20,"reject"],[78,47,86,26],[78,48,86,27],[78,58,86,37],[78,59,86,38],[78,61,87,8],[78,65,87,12],[78,66,87,13,"_configuration"],[78,80,87,27],[78,81,87,28,"reachabilityRequestTimeout"],[78,107,88,6],[78,108,88,7],[79,6,89,4],[79,7,89,5],[79,8,89,6],[81,6,91,4],[82,6,92,4],[83,6,93,4],[83,10,93,8,"cancel"],[83,16,93,26],[83,19,93,29,"cancel"],[83,20,93,29],[83,25,93,41],[83,26,93,42],[83,27,93,43],[84,6,94,4],[84,10,94,10,"cancelPromise"],[84,23,94,23],[84,26,94,26],[84,30,94,30,"Promise"],[84,37,94,37],[84,38,94,48],[84,39,94,49,"_"],[84,40,94,50],[84,42,94,52,"reject"],[84,48,94,58],[84,53,94,69],[85,8,95,6,"cancel"],[85,14,95,12],[85,17,95,15,"cancel"],[85,18,95,15],[85,23,95,27,"reject"],[85,29,95,33],[85,30,95,34],[85,40,95,44],[85,41,95,45],[86,6,96,4],[86,7,96,5],[86,8,96,6],[87,6,98,4],[87,10,98,10,"promise"],[87,17,98,17],[87,20,98,20,"Promise"],[87,27,98,27],[87,28,98,28,"race"],[87,32,98,32],[87,33,98,33],[87,34,99,6,"responsePromise"],[87,49,99,21],[87,51,100,6,"timeoutPromise"],[87,65,100,20],[87,67,101,6,"cancelPromise"],[87,80,101,19],[87,81,102,5],[87,82,102,6],[87,83,103,7,"then"],[87,87,103,11],[87,88,103,13,"response"],[87,96,103,21],[87,100,103,44],[88,8,104,8],[88,15,104,15],[88,19,104,19],[88,20,104,20,"_configuration"],[88,34,104,34],[88,35,104,35,"reachabilityTest"],[88,51,104,51],[88,52,104,52,"response"],[88,60,104,60],[88,61,104,61],[89,6,105,6],[89,7,105,7],[89,8,105,8],[89,9,106,7,"then"],[89,13,106,11],[89,14,106,13,"result"],[89,20,106,19],[89,24,106,30],[90,8,107,8],[90,12,107,12],[90,13,107,13,"_setIsInternetReachable"],[90,36,107,36],[90,37,107,37,"result"],[90,43,107,43],[90,44,107,44],[91,8,108,8],[91,12,108,14,"nextTimeoutInterval"],[91,31,108,33],[91,34,108,36],[91,38,108,40],[91,39,108,41,"_isInternetReachable"],[91,59,108,61],[91,62,109,12],[91,66,109,16],[91,67,109,17,"_configuration"],[91,81,109,31],[91,82,109,32,"reachabilityLongTimeout"],[91,105,109,55],[91,108,110,12],[91,112,110,16],[91,113,110,17,"_configuration"],[91,127,110,31],[91,128,110,32,"reachabilityShortTimeout"],[91,152,110,56],[92,8,111,8],[92,12,111,12],[92,13,111,13,"_currentTimeoutHandle"],[92,34,111,34],[92,37,111,37,"setTimeout"],[92,47,111,47],[92,48,112,10],[92,52,112,14],[92,53,112,15,"_checkInternetReachability"],[92,79,112,41],[92,81,113,10,"nextTimeoutInterval"],[92,100,114,8],[92,101,114,9],[93,6,115,6],[93,7,115,7],[93,8,115,8],[93,9,116,7,"catch"],[93,14,116,12],[93,15,116,14,"error"],[93,20,116,52],[93,24,116,63],[94,8,117,8],[94,12,117,12],[94,22,117,22],[94,27,117,27,"error"],[94,32,117,32],[94,34,117,34],[95,10,118,10,"controller"],[95,20,118,20],[95,21,118,21,"abort"],[95,26,118,26],[95,27,118,27],[95,28,118,28],[96,8,119,8],[96,9,119,9],[96,15,119,15],[97,10,120,10],[97,14,120,14],[97,24,120,24],[97,29,120,29,"error"],[97,34,120,34],[97,36,120,36],[98,12,121,12,"controller"],[98,22,121,22],[98,23,121,23,"abort"],[98,28,121,28],[98,29,121,29],[98,30,121,30],[99,10,122,10],[100,10,124,10],[100,14,124,14],[100,15,124,15,"_setIsInternetReachable"],[100,38,124,38],[100,39,124,39],[100,44,124,44],[100,45,124,45],[101,10,125,10],[101,14,125,14],[101,15,125,15,"_currentTimeoutHandle"],[101,36,125,36],[101,39,125,39,"setTimeout"],[101,49,125,49],[101,50,126,12],[101,54,126,16],[101,55,126,17,"_checkInternetReachability"],[101,81,126,43],[101,83,127,12],[101,87,127,16],[101,88,127,17,"_configuration"],[101,102,127,31],[101,103,127,32,"reachabilityShortTimeout"],[101,127,128,10],[101,128,128,11],[102,8,129,8],[103,6,130,6],[103,7,130,7],[104,6,131,6],[105,6,131,6],[105,7,132,7,"then"],[105,11,132,11],[105,12,133,8],[105,18,133,20],[106,8,134,10,"clearTimeout"],[106,20,134,22],[106,21,134,23,"timeoutHandle"],[106,34,134,36],[106,35,134,37],[107,6,135,8],[107,7,135,9],[107,9,136,9,"error"],[107,14,136,21],[107,18,136,32],[108,8,137,10,"clearTimeout"],[108,20,137,22],[108,21,137,23,"timeoutHandle"],[108,34,137,36],[108,35,137,37],[109,8,138,10],[109,14,138,16,"error"],[109,19,138,21],[110,6,139,8],[110,7,140,6],[110,8,140,7],[111,6,142,4],[111,13,142,11],[112,8,143,6,"promise"],[112,15,143,13],[113,8,144,6,"cancel"],[114,6,145,4],[114,7,145,5],[115,4,146,2],[115,5,146,3],[116,4,146,3],[116,9,148,9,"update"],[116,15,148,15],[116,18,148,19,"state"],[116,23,148,63],[116,27,148,74],[117,6,149,4],[117,10,150,6],[117,17,150,13,"state"],[117,22,150,18],[117,23,150,19,"isInternetReachable"],[117,42,150,38],[117,47,150,43],[117,56,150,52],[117,60,151,6],[117,64,151,10],[117,65,151,11,"_configuration"],[117,79,151,25],[117,80,151,26,"useNativeReachability"],[117,101,151,47],[117,103,152,6],[118,8,153,6],[118,12,153,10],[118,13,153,11,"_setIsInternetReachable"],[118,36,153,34],[118,37,153,35,"state"],[118,42,153,40],[118,43,153,41,"isInternetReachable"],[118,62,153,60],[118,63,153,61],[119,6,154,4],[119,7,154,5],[119,13,154,11],[120,8,155,6],[120,12,155,10],[120,13,155,11,"_setExpectsConnection"],[120,34,155,32],[120,35,155,33,"state"],[120,40,155,38],[120,41,155,39,"isConnected"],[120,52,155,50],[120,53,155,51],[121,6,156,4],[122,4,157,2],[122,5,157,3],[123,4,157,3],[123,9,159,9,"currentState"],[123,21,159,21],[123,24,159,24],[123,30,159,58],[124,6,160,4],[124,13,160,11],[124,17,160,15],[124,18,160,16,"_isInternetReachable"],[124,38,160,36],[125,4,161,2],[125,5,161,3],[126,4,161,3],[126,9,163,9,"tearDown"],[126,17,163,17],[126,20,163,20],[126,26,163,32],[127,6,164,4],[128,6,165,4],[128,10,165,8],[128,14,165,12],[128,15,165,13,"_currentInternetReachabilityCheckHandler"],[128,55,165,53],[128,60,165,58],[128,64,165,62],[128,66,165,64],[129,8,166,6],[129,12,166,10],[129,13,166,11,"_currentInternetReachabilityCheckHandler"],[129,53,166,51],[129,54,166,52,"cancel"],[129,60,166,58],[129,61,166,59],[129,62,166,60],[130,8,167,6],[130,12,167,10],[130,13,167,11,"_currentInternetReachabilityCheckHandler"],[130,53,167,51],[130,56,167,54],[130,60,167,58],[131,6,168,4],[133,6,170,4],[134,6,171,4],[134,10,171,8],[134,14,171,12],[134,15,171,13,"_currentTimeoutHandle"],[134,36,171,34],[134,41,171,39],[134,45,171,43],[134,47,171,45],[135,8,172,6,"clearTimeout"],[135,20,172,18],[135,21,172,19],[135,25,172,23],[135,26,172,24,"_currentTimeoutHandle"],[135,47,172,45],[135,48,172,46],[136,8,173,6],[136,12,173,10],[136,13,173,11,"_currentTimeoutHandle"],[136,34,173,32],[136,37,173,35],[136,41,173,39],[137,6,174,4],[138,4,175,2],[138,5,175,3],[139,4,30,4],[139,8,30,8],[139,9,30,9,"_configuration"],[139,23,30,23],[139,26,30,26,"configuration"],[139,39,30,39],[140,4,31,4],[140,8,31,8],[140,9,31,9,"_listener"],[140,18,31,18],[140,21,31,21,"listener"],[140,29,31,29],[141,2,32,2],[141,3,32,3],[142,0,32,3],[142,3]],"functionMap":{"names":["<global>","InternetReachability","InternetReachability#constructor","InternetReachability#_setIsInternetReachable","InternetReachability#_setExpectsConnection","InternetReachability#_checkInternetReachability","Promise$argument_0","setTimeout$argument_0","cancel","Promise.race.then$argument_0","Promise.race.then.then$argument_0","Promise.race.then.then._catch$argument_0","Promise.race..._catch.then$argument_0","Promise.race..._catch.then$argument_1","InternetReachability#update","InternetReachability#currentState","InternetReachability#tearDown"],"mappings":"AAA;eCiB;ECQ;GDM;oCEE;GFS;kCGE;GHyB;uCIE;iDCY;QCE,8BD;KDG;6BGI,cH;gDCC;eEC,8BF;KDC;YIO;OJE;YKC;OLS;aMC;ONc;QOG;SPE;QQC;SRG;GJO;kBaE;GbS;wBcE;GdE;oBeE;GfY;CDC"},"hasCjsExports":false},"type":"js/module"}]}