{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":38,"index":175}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setToken: token => {\n      _servicesApi.api.setToken(token);\n      set({\n        token\n      });\n    },\n    login: async sessionId => {\n      try {\n        set({\n          isLoading: true\n        });\n        const result = await _servicesApi.api.createSession(sessionId);\n        await AsyncStorage.default.setItem('session_token', result.session_token);\n        _servicesApi.api.setToken(result.session_token);\n        set({\n          user: result.user,\n          token: result.session_token,\n          isAuthenticated: true,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw error;\n      }\n    },\n    logout: async () => {\n      try {\n        await _servicesApi.api.logout();\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n      await AsyncStorage.default.removeItem('session_token');\n      _servicesApi.api.setToken(null);\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n    },\n    checkAuth: async () => {\n      try {\n        set({\n          isLoading: true\n        });\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (token) {\n          _servicesApi.api.setToken(token);\n          const user = await _servicesApi.api.getMe();\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n        await AsyncStorage.default.removeItem('session_token');\n        _servicesApi.api.setToken(null);\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n      }\n    },\n    refreshUser: async () => {\n      try {\n        const user = await _servicesApi.api.getMe();\n        set({\n          user\n        });\n      } catch (error) {\n        console.error('Refresh user error:', error);\n      }\n    }\n  }));\n});","lineCount":115,"map":[[12,2,19,0,"Object"],[12,8,19,0],[12,9,19,0,"defineProperty"],[12,23,19,0],[12,24,19,0,"exports"],[12,31,19,0],[13,4,19,0,"enumerable"],[13,14,19,0],[14,4,19,0,"get"],[14,7,19,0],[14,18,19,0,"get"],[14,19,19,0],[15,6,19,0],[15,13,19,0,"useAuthStore"],[15,25,19,0],[16,4,19,0],[17,2,19,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,4,0],[21,6,4,0,"_servicesApi"],[21,18,4,0],[21,21,4,0,"require"],[21,28,4,0],[21,29,4,0,"_dependencyMap"],[21,43,4,0],[22,2,19,7],[22,8,19,13,"useAuthStore"],[22,20,19,25],[22,23,19,28],[22,27,19,28,"create"],[22,35,19,34],[22,36,19,34,"create"],[22,42,19,34],[22,44,19,46],[22,45,19,47,"set"],[22,48,19,50],[22,50,19,52,"get"],[22,53,19,55],[22,59,19,61],[23,4,20,2,"user"],[23,8,20,6],[23,10,20,8],[23,14,20,12],[24,4,21,2,"token"],[24,9,21,7],[24,11,21,9],[24,15,21,13],[25,4,22,2,"isLoading"],[25,13,22,11],[25,15,22,13],[25,19,22,17],[26,4,23,2,"isAuthenticated"],[26,19,23,17],[26,21,23,19],[26,26,23,24],[27,4,25,2,"setUser"],[27,11,25,9],[27,13,25,12,"user"],[27,17,25,16],[27,21,25,21,"set"],[27,24,25,24],[27,25,25,25],[28,6,25,27,"user"],[28,10,25,31],[29,6,25,33,"isAuthenticated"],[29,21,25,48],[29,23,25,50],[29,24,25,51],[29,25,25,52,"user"],[30,4,25,57],[30,5,25,58],[30,6,25,59],[31,4,27,2,"setToken"],[31,12,27,10],[31,14,27,13,"token"],[31,19,27,18],[31,23,27,23],[32,6,28,4,"api"],[32,18,28,7],[32,19,28,7,"api"],[32,22,28,7],[32,23,28,8,"setToken"],[32,31,28,16],[32,32,28,17,"token"],[32,37,28,22],[32,38,28,23],[33,6,29,4,"set"],[33,9,29,7],[33,10,29,8],[34,8,29,10,"token"],[35,6,29,16],[35,7,29,17],[35,8,29,18],[36,4,30,2],[36,5,30,3],[37,4,32,2,"login"],[37,9,32,7],[37,11,32,9],[37,17,32,16,"sessionId"],[37,26,32,33],[37,30,32,38],[38,6,33,4],[38,10,33,8],[39,8,34,6,"set"],[39,11,34,9],[39,12,34,10],[40,10,34,12,"isLoading"],[40,19,34,21],[40,21,34,23],[41,8,34,28],[41,9,34,29],[41,10,34,30],[42,8,35,6],[42,14,35,12,"result"],[42,20,35,18],[42,23,35,21],[42,29,35,27,"api"],[42,41,35,30],[42,42,35,30,"api"],[42,45,35,30],[42,46,35,31,"createSession"],[42,59,35,44],[42,60,35,45,"sessionId"],[42,69,35,54],[42,70,35,55],[43,8,36,6],[43,14,36,12,"AsyncStorage"],[43,26,36,24],[43,27,36,24,"default"],[43,34,36,24],[43,35,36,25,"setItem"],[43,42,36,32],[43,43,36,33],[43,58,36,48],[43,60,36,50,"result"],[43,66,36,56],[43,67,36,57,"session_token"],[43,80,36,70],[43,81,36,71],[44,8,37,6,"api"],[44,20,37,9],[44,21,37,9,"api"],[44,24,37,9],[44,25,37,10,"setToken"],[44,33,37,18],[44,34,37,19,"result"],[44,40,37,25],[44,41,37,26,"session_token"],[44,54,37,39],[44,55,37,40],[45,8,38,6,"set"],[45,11,38,9],[45,12,38,10],[46,10,39,8,"user"],[46,14,39,12],[46,16,39,14,"result"],[46,22,39,20],[46,23,39,21,"user"],[46,27,39,25],[47,10,40,8,"token"],[47,15,40,13],[47,17,40,15,"result"],[47,23,40,21],[47,24,40,22,"session_token"],[47,37,40,35],[48,10,41,8,"isAuthenticated"],[48,25,41,23],[48,27,41,25],[48,31,41,29],[49,10,42,8,"isLoading"],[49,19,42,17],[49,21,42,19],[50,8,43,6],[50,9,43,7],[50,10,43,8],[51,6,44,4],[51,7,44,5],[51,8,44,6],[51,15,44,13,"error"],[51,20,44,18],[51,22,44,20],[52,8,45,6,"set"],[52,11,45,9],[52,12,45,10],[53,10,45,12,"isLoading"],[53,19,45,21],[53,21,45,23],[54,8,45,29],[54,9,45,30],[54,10,45,31],[55,8,46,6],[55,14,46,12,"error"],[55,19,46,17],[56,6,47,4],[57,4,48,2],[57,5,48,3],[58,4,50,2,"logout"],[58,10,50,8],[58,12,50,10],[58,18,50,10,"logout"],[58,19,50,10],[58,24,50,22],[59,6,51,4],[59,10,51,8],[60,8,52,6],[60,14,52,12,"api"],[60,26,52,15],[60,27,52,15,"api"],[60,30,52,15],[60,31,52,16,"logout"],[60,37,52,22],[60,38,52,23],[60,39,52,24],[61,6,53,4],[61,7,53,5],[61,8,53,6],[61,15,53,13,"error"],[61,20,53,18],[61,22,53,20],[62,8,54,6,"console"],[62,15,54,13],[62,16,54,14,"error"],[62,21,54,19],[62,22,54,20],[62,37,54,35],[62,39,54,37,"error"],[62,44,54,42],[62,45,54,43],[63,6,55,4],[64,6,56,4],[64,12,56,10,"AsyncStorage"],[64,24,56,22],[64,25,56,22,"default"],[64,32,56,22],[64,33,56,23,"removeItem"],[64,43,56,33],[64,44,56,34],[64,59,56,49],[64,60,56,50],[65,6,57,4,"api"],[65,18,57,7],[65,19,57,7,"api"],[65,22,57,7],[65,23,57,8,"setToken"],[65,31,57,16],[65,32,57,17],[65,36,57,21],[65,37,57,22],[66,6,58,4,"set"],[66,9,58,7],[66,10,58,8],[67,8,58,10,"user"],[67,12,58,14],[67,14,58,16],[67,18,58,20],[68,8,58,22,"token"],[68,13,58,27],[68,15,58,29],[68,19,58,33],[69,8,58,35,"isAuthenticated"],[69,23,58,50],[69,25,58,52],[70,6,58,58],[70,7,58,59],[70,8,58,60],[71,4,59,2],[71,5,59,3],[72,4,61,2,"checkAuth"],[72,13,61,11],[72,15,61,13],[72,21,61,13,"checkAuth"],[72,22,61,13],[72,27,61,25],[73,6,62,4],[73,10,62,8],[74,8,63,6,"set"],[74,11,63,9],[74,12,63,10],[75,10,63,12,"isLoading"],[75,19,63,21],[75,21,63,23],[76,8,63,28],[76,9,63,29],[76,10,63,30],[77,8,64,6],[77,14,64,12,"token"],[77,19,64,17],[77,22,64,20],[77,28,64,26,"AsyncStorage"],[77,40,64,38],[77,41,64,38,"default"],[77,48,64,38],[77,49,64,39,"getItem"],[77,56,64,46],[77,57,64,47],[77,72,64,62],[77,73,64,63],[78,8,65,6],[78,12,65,10,"token"],[78,17,65,15],[78,19,65,17],[79,10,66,8,"api"],[79,22,66,11],[79,23,66,11,"api"],[79,26,66,11],[79,27,66,12,"setToken"],[79,35,66,20],[79,36,66,21,"token"],[79,41,66,26],[79,42,66,27],[80,10,67,8],[80,16,67,14,"user"],[80,20,67,18],[80,23,67,21],[80,29,67,27,"api"],[80,41,67,30],[80,42,67,30,"api"],[80,45,67,30],[80,46,67,31,"getMe"],[80,51,67,36],[80,52,67,37],[80,53,67,38],[81,10,68,8,"set"],[81,13,68,11],[81,14,68,12],[82,12,68,14,"user"],[82,16,68,18],[83,12,68,20,"token"],[83,17,68,25],[84,12,68,27,"isAuthenticated"],[84,27,68,42],[84,29,68,44],[84,33,68,48],[85,12,68,50,"isLoading"],[85,21,68,59],[85,23,68,61],[86,10,68,67],[86,11,68,68],[86,12,68,69],[87,8,69,6],[87,9,69,7],[87,15,69,13],[88,10,70,8,"set"],[88,13,70,11],[88,14,70,12],[89,12,70,14,"isLoading"],[89,21,70,23],[89,23,70,25],[90,10,70,31],[90,11,70,32],[90,12,70,33],[91,8,71,6],[92,6,72,4],[92,7,72,5],[92,8,72,6],[92,15,72,13,"error"],[92,20,72,18],[92,22,72,20],[93,8,73,6,"console"],[93,15,73,13],[93,16,73,14,"error"],[93,21,73,19],[93,22,73,20],[93,41,73,39],[93,43,73,41,"error"],[93,48,73,46],[93,49,73,47],[94,8,74,6],[94,14,74,12,"AsyncStorage"],[94,26,74,24],[94,27,74,24,"default"],[94,34,74,24],[94,35,74,25,"removeItem"],[94,45,74,35],[94,46,74,36],[94,61,74,51],[94,62,74,52],[95,8,75,6,"api"],[95,20,75,9],[95,21,75,9,"api"],[95,24,75,9],[95,25,75,10,"setToken"],[95,33,75,18],[95,34,75,19],[95,38,75,23],[95,39,75,24],[96,8,76,6,"set"],[96,11,76,9],[96,12,76,10],[97,10,76,12,"user"],[97,14,76,16],[97,16,76,18],[97,20,76,22],[98,10,76,24,"token"],[98,15,76,29],[98,17,76,31],[98,21,76,35],[99,10,76,37,"isAuthenticated"],[99,25,76,52],[99,27,76,54],[99,32,76,59],[100,10,76,61,"isLoading"],[100,19,76,70],[100,21,76,72],[101,8,76,78],[101,9,76,79],[101,10,76,80],[102,6,77,4],[103,4,78,2],[103,5,78,3],[104,4,80,2,"refreshUser"],[104,15,80,13],[104,17,80,15],[104,23,80,15,"refreshUser"],[104,24,80,15],[104,29,80,27],[105,6,81,4],[105,10,81,8],[106,8,82,6],[106,14,82,12,"user"],[106,18,82,16],[106,21,82,19],[106,27,82,25,"api"],[106,39,82,28],[106,40,82,28,"api"],[106,43,82,28],[106,44,82,29,"getMe"],[106,49,82,34],[106,50,82,35],[106,51,82,36],[107,8,83,6,"set"],[107,11,83,9],[107,12,83,10],[108,10,83,12,"user"],[109,8,83,17],[109,9,83,18],[109,10,83,19],[110,6,84,4],[110,7,84,5],[110,8,84,6],[110,15,84,13,"error"],[110,20,84,18],[110,22,84,20],[111,8,85,6,"console"],[111,15,85,13],[111,16,85,14,"error"],[111,21,85,19],[111,22,85,20],[111,43,85,41],[111,45,85,43,"error"],[111,50,85,48],[111,51,85,49],[112,6,86,4],[113,4,87,2],[114,2,88,0],[114,3,88,1],[114,4,88,2],[114,5,88,3],[115,0,88,4],[115,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","login","logout","checkAuth","refreshUser"],"mappings":"AAA;8CCkB;WCM,gDD;YEE;GFG;SGE;GHgB;UIE;GJS;aKE;GLiB;eME;GNO;EDC"},"hasCjsExports":false},"type":"js/module"}]}