{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"FileSystemReadableStreamSource\", {\n    enumerable: true,\n    get: function () {\n      return FileSystemReadableStreamSource;\n    }\n  });\n  Object.defineProperty(exports, \"FileSystemWritableSink\", {\n    enumerable: true,\n    get: function () {\n      return FileSystemWritableSink;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var FileSystemReadableStreamSource = /*#__PURE__*/function () {\n    function FileSystemReadableStreamSource(handle) {\n      (0, _classCallCheck.default)(this, FileSystemReadableStreamSource);\n      this.size = 1024;\n      this.type = 'bytes';\n      this.handle = handle;\n    }\n    return (0, _createClass.default)(FileSystemReadableStreamSource, [{\n      key: \"cancel\",\n      value: function cancel() {\n        this.handle.close();\n      }\n    }, {\n      key: \"pull\",\n      value: function pull(controller) {\n        var _controller$byobReque;\n        var theView = (_controller$byobReque = controller.byobRequest) == null ? void 0 : _controller$byobReque.view;\n        if (!theView) {\n          var _bytes = this.handle.readBytes(this.size);\n          if (_bytes.length === 0) {\n            controller.close();\n            return;\n          }\n          controller.enqueue(_bytes);\n          return;\n        }\n\n        // TODO: Optimize by adding a native method that can write into a TypedArray at a given offset.\n        var bytes = this.handle.readBytes(theView.byteLength - theView.byteOffset);\n        if (bytes.length === 0) {\n          controller.close();\n          controller.byobRequest.respond(0);\n          return;\n        }\n        if (theView instanceof Uint8Array) {\n          theView.set(bytes, theView.byteOffset);\n        } else {\n          var array = new Uint8Array(theView.buffer);\n          for (var i = 0; i < bytes.length; i++) {\n            var _theView$byteOffset;\n            array[i + ((_theView$byteOffset = theView.byteOffset) != null ? _theView$byteOffset : 0)] = bytes[i];\n          }\n        }\n        controller.byobRequest.respond(bytes.length);\n      }\n    }]);\n  }();\n  var FileSystemWritableSink = /*#__PURE__*/function () {\n    function FileSystemWritableSink(handle) {\n      (0, _classCallCheck.default)(this, FileSystemWritableSink);\n      this.handle = handle;\n    }\n    return (0, _createClass.default)(FileSystemWritableSink, [{\n      key: \"abort\",\n      value: function abort() {\n        this.close();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        this.handle.close();\n      }\n    }, {\n      key: \"write\",\n      value: function write(chunk) {\n        this.handle.writeBytes(chunk);\n      }\n    }]);\n  }();\n});","lineCount":97,"map":[[12,2,3,0,"Object"],[12,8,3,0],[12,9,3,0,"defineProperty"],[12,23,3,0],[12,24,3,0,"exports"],[12,31,3,0],[13,4,3,0,"enumerable"],[13,14,3,0],[14,4,3,0,"get"],[14,7,3,0],[14,18,3,0,"get"],[14,19,3,0],[15,6,3,0],[15,13,3,0,"FileSystemReadableStreamSource"],[15,43,3,0],[16,4,3,0],[17,2,3,0],[18,2,47,0,"Object"],[18,8,47,0],[18,9,47,0,"defineProperty"],[18,23,47,0],[18,24,47,0,"exports"],[18,31,47,0],[19,4,47,0,"enumerable"],[19,14,47,0],[20,4,47,0,"get"],[20,7,47,0],[20,18,47,0,"get"],[20,19,47,0],[21,6,47,0],[21,13,47,0,"FileSystemWritableSink"],[21,35,47,0],[22,4,47,0],[23,2,47,0],[24,2,65,1],[24,6,65,1,"_babelRuntimeHelpersClassCallCheck"],[24,40,65,1],[24,43,65,1,"require"],[24,50,65,1],[24,51,65,1,"_dependencyMap"],[24,65,65,1],[25,2,65,1],[25,6,65,1,"_classCallCheck"],[25,21,65,1],[25,24,65,1,"_interopDefault"],[25,39,65,1],[25,40,65,1,"_babelRuntimeHelpersClassCallCheck"],[25,74,65,1],[26,2,65,1],[26,6,65,1,"_babelRuntimeHelpersCreateClass"],[26,37,65,1],[26,40,65,1,"require"],[26,47,65,1],[26,48,65,1,"_dependencyMap"],[26,62,65,1],[27,2,65,1],[27,6,65,1,"_createClass"],[27,18,65,1],[27,21,65,1,"_interopDefault"],[27,36,65,1],[27,37,65,1,"_babelRuntimeHelpersCreateClass"],[27,68,65,1],[28,2,65,1],[28,6,3,13,"FileSystemReadableStreamSource"],[28,36,3,43],[29,4,8,2],[29,13,8,2,"FileSystemReadableStreamSource"],[29,44,8,14,"handle"],[29,50,8,32],[29,52,8,34],[30,6,8,34],[30,10,8,34,"_classCallCheck"],[30,25,8,34],[30,26,8,34,"default"],[30,33,8,34],[30,41,8,34,"FileSystemReadableStreamSource"],[30,71,8,34],[31,6,8,34],[31,11,5,2,"size"],[31,15,5,6],[31,18,5,17],[31,22,5,21],[32,6,5,21],[32,11,6,2,"type"],[32,15,6,6],[32,18,6,9],[32,25,6,16],[33,6,9,4],[33,10,9,8],[33,11,9,9,"handle"],[33,17,9,15],[33,20,9,18,"handle"],[33,26,9,24],[34,4,10,2],[35,4,10,3],[35,15,10,3,"_createClass"],[35,27,10,3],[35,28,10,3,"default"],[35,35,10,3],[35,37,10,3,"FileSystemReadableStreamSource"],[35,67,10,3],[36,6,10,3,"key"],[36,9,10,3],[37,6,10,3,"value"],[37,11,10,3],[37,13,12,2],[37,22,12,2,"cancel"],[37,28,12,8,"cancel"],[37,29,12,8],[37,31,12,11],[38,8,13,4],[38,12,13,8],[38,13,13,9,"handle"],[38,19,13,15],[38,20,13,16,"close"],[38,25,13,21],[38,26,13,22],[38,27,13,23],[39,6,14,2],[40,4,14,3],[41,6,14,3,"key"],[41,9,14,3],[42,6,14,3,"value"],[42,11,14,3],[42,13,16,2],[42,22,16,2,"pull"],[42,26,16,6,"pull"],[42,27,16,7,"controller"],[42,37,16,47],[42,39,16,49],[43,8,16,49],[43,12,16,49,"_controller$byobReque"],[43,33,16,49],[44,8,17,4],[44,12,17,10,"theView"],[44,19,17,17],[44,23,17,17,"_controller$byobReque"],[44,44,17,17],[44,47,17,20,"controller"],[44,57,17,30],[44,58,17,31,"byobRequest"],[44,69,17,42],[44,90,17,20,"_controller$byobReque"],[44,111,17,20],[44,112,17,44,"view"],[44,116,17,48],[45,8,18,4],[45,12,18,8],[45,13,18,9,"theView"],[45,20,18,16],[45,22,18,18],[46,10,19,6],[46,14,19,12,"bytes"],[46,20,19,17],[46,23,19,20],[46,27,19,24],[46,28,19,25,"handle"],[46,34,19,31],[46,35,19,32,"readBytes"],[46,44,19,41],[46,45,19,42],[46,49,19,46],[46,50,19,47,"size"],[46,54,19,51],[46,55,19,52],[47,10,20,6],[47,14,20,10,"bytes"],[47,20,20,15],[47,21,20,16,"length"],[47,27,20,22],[47,32,20,27],[47,33,20,28],[47,35,20,30],[48,12,21,8,"controller"],[48,22,21,18],[48,23,21,19,"close"],[48,28,21,24],[48,29,21,25],[48,30,21,26],[49,12,22,8],[50,10,23,6],[51,10,24,6,"controller"],[51,20,24,16],[51,21,24,17,"enqueue"],[51,28,24,24],[51,29,24,25,"bytes"],[51,35,24,30],[51,36,24,31],[52,10,25,6],[53,8,26,4],[55,8,28,4],[56,8,29,4],[56,12,29,10,"bytes"],[56,17,29,15],[56,20,29,18],[56,24,29,22],[56,25,29,23,"handle"],[56,31,29,29],[56,32,29,30,"readBytes"],[56,41,29,39],[56,42,29,40,"theView"],[56,49,29,47],[56,50,29,48,"byteLength"],[56,60,29,58],[56,63,29,61,"theView"],[56,70,29,68],[56,71,29,69,"byteOffset"],[56,81,29,79],[56,82,29,80],[57,8,30,4],[57,12,30,8,"bytes"],[57,17,30,13],[57,18,30,14,"length"],[57,24,30,20],[57,29,30,25],[57,30,30,26],[57,32,30,28],[58,10,31,6,"controller"],[58,20,31,16],[58,21,31,17,"close"],[58,26,31,22],[58,27,31,23],[58,28,31,24],[59,10,32,6,"controller"],[59,20,32,16],[59,21,32,17,"byobRequest"],[59,32,32,28],[59,33,32,29,"respond"],[59,40,32,36],[59,41,32,37],[59,42,32,38],[59,43,32,39],[60,10,33,6],[61,8,34,4],[62,8,35,4],[62,12,35,8,"theView"],[62,19,35,15],[62,31,35,27,"Uint8Array"],[62,41,35,37],[62,43,35,39],[63,10,36,6,"theView"],[63,17,36,13],[63,18,36,14,"set"],[63,21,36,17],[63,22,36,18,"bytes"],[63,27,36,23],[63,29,36,25,"theView"],[63,36,36,32],[63,37,36,33,"byteOffset"],[63,47,36,43],[63,48,36,44],[64,8,37,4],[64,9,37,5],[64,15,37,11],[65,10,38,6],[65,14,38,12,"array"],[65,19,38,17],[65,22,38,20],[65,26,38,24,"Uint8Array"],[65,36,38,34],[65,37,38,35,"theView"],[65,44,38,42],[65,45,38,43,"buffer"],[65,51,38,49],[65,52,38,50],[66,10,39,6],[66,15,39,11],[66,19,39,15,"i"],[66,20,39,16],[66,23,39,19],[66,24,39,20],[66,26,39,22,"i"],[66,27,39,23],[66,30,39,26,"bytes"],[66,35,39,31],[66,36,39,32,"length"],[66,42,39,38],[66,44,39,40,"i"],[66,45,39,41],[66,47,39,43],[66,49,39,45],[67,12,39,45],[67,16,39,45,"_theView$byteOffset"],[67,35,39,45],[68,12,40,8,"array"],[68,17,40,13],[68,18,40,14,"i"],[68,19,40,15],[68,24,40,15,"_theView$byteOffset"],[68,43,40,15],[68,46,40,19,"theView"],[68,53,40,26],[68,54,40,27,"byteOffset"],[68,64,40,37],[68,76,40,37,"_theView$byteOffset"],[68,95,40,37],[68,98,40,41],[68,99,40,42],[68,100,40,43],[68,101,40,44],[68,104,40,47,"bytes"],[68,109,40,52],[68,110,40,53,"i"],[68,111,40,54],[68,112,40,56],[69,10,41,6],[70,8,42,4],[71,8,43,4,"controller"],[71,18,43,14],[71,19,43,15,"byobRequest"],[71,30,43,26],[71,31,43,27,"respond"],[71,38,43,34],[71,39,43,35,"bytes"],[71,44,43,40],[71,45,43,41,"length"],[71,51,43,47],[71,52,43,48],[72,6,44,2],[73,4,44,3],[74,2,44,3],[75,2,44,3],[75,6,47,13,"FileSystemWritableSink"],[75,28,47,35],[76,4,50,2],[76,13,50,2,"FileSystemWritableSink"],[76,36,50,14,"handle"],[76,42,50,32],[76,44,50,34],[77,6,50,34],[77,10,50,34,"_classCallCheck"],[77,25,50,34],[77,26,50,34,"default"],[77,33,50,34],[77,41,50,34,"FileSystemWritableSink"],[77,63,50,34],[78,6,51,4],[78,10,51,8],[78,11,51,9,"handle"],[78,17,51,15],[78,20,51,18,"handle"],[78,26,51,24],[79,4,52,2],[80,4,52,3],[80,15,52,3,"_createClass"],[80,27,52,3],[80,28,52,3,"default"],[80,35,52,3],[80,37,52,3,"FileSystemWritableSink"],[80,59,52,3],[81,6,52,3,"key"],[81,9,52,3],[82,6,52,3,"value"],[82,11,52,3],[82,13,54,2],[82,22,54,2,"abort"],[82,27,54,7,"abort"],[82,28,54,7],[82,30,54,10],[83,8,55,4],[83,12,55,8],[83,13,55,9,"close"],[83,18,55,14],[83,19,55,15],[83,20,55,16],[84,6,56,2],[85,4,56,3],[86,6,56,3,"key"],[86,9,56,3],[87,6,56,3,"value"],[87,11,56,3],[87,13,58,2],[87,22,58,2,"close"],[87,27,58,7,"close"],[87,28,58,7],[87,30,58,10],[88,8,59,4],[88,12,59,8],[88,13,59,9,"handle"],[88,19,59,15],[88,20,59,16,"close"],[88,25,59,21],[88,26,59,22],[88,27,59,23],[89,6,60,2],[90,4,60,3],[91,6,60,3,"key"],[91,9,60,3],[92,6,60,3,"value"],[92,11,60,3],[92,13,62,2],[92,22,62,2,"write"],[92,27,62,7,"write"],[92,28,62,8,"chunk"],[92,33,62,25],[92,35,62,27],[93,8,63,4],[93,12,63,8],[93,13,63,9,"handle"],[93,19,63,15],[93,20,63,16,"writeBytes"],[93,30,63,26],[93,31,63,27,"chunk"],[93,36,63,32],[93,37,63,33],[94,6,64,2],[95,4,64,3],[96,2,64,3],[97,0,64,3],[97,3]],"functionMap":{"names":["<global>","FileSystemReadableStreamSource","FileSystemReadableStreamSource#constructor","FileSystemReadableStreamSource#cancel","FileSystemReadableStreamSource#pull","FileSystemWritableSink","FileSystemWritableSink#constructor","FileSystemWritableSink#abort","FileSystemWritableSink#close","FileSystemWritableSink#write"],"mappings":"AAA;OCE;ECK;GDE;EEE;GFE;EGE;GH4B;CDC;OKE;ECG;GDE;EEE;GFE;EGE;GHE;EIE;GJE;CLC"},"hasCjsExports":false},"type":"js/module"}]}