{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":38,"index":175}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setToken: token => {\n      _servicesApi.api.setToken(token);\n      set({\n        token\n      });\n    },\n    login: async sessionId => {\n      try {\n        set({\n          isLoading: true\n        });\n        const result = await _servicesApi.api.createSession(sessionId);\n        await AsyncStorage.default.setItem('session_token', result.session_token);\n        _servicesApi.api.setToken(result.session_token);\n        set({\n          user: result.user,\n          token: result.session_token,\n          isAuthenticated: true,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw error;\n      }\n    },\n    logout: async () => {\n      try {\n        await _servicesApi.api.logout();\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n      await AsyncStorage.default.removeItem('session_token');\n      _servicesApi.api.setToken(null);\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n    },\n    checkAuth: async () => {\n      try {\n        set({\n          isLoading: true\n        });\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (token) {\n          _servicesApi.api.setToken(token);\n          const user = await _servicesApi.api.getMe();\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n        await AsyncStorage.default.removeItem('session_token');\n        _servicesApi.api.setToken(null);\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":105,"map":[[12,2,18,0,"Object"],[12,8,18,0],[12,9,18,0,"defineProperty"],[12,23,18,0],[12,24,18,0,"exports"],[12,31,18,0],[13,4,18,0,"enumerable"],[13,14,18,0],[14,4,18,0,"get"],[14,7,18,0],[14,18,18,0,"get"],[14,19,18,0],[15,6,18,0],[15,13,18,0,"useAuthStore"],[15,25,18,0],[16,4,18,0],[17,2,18,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,4,0],[21,6,4,0,"_servicesApi"],[21,18,4,0],[21,21,4,0,"require"],[21,28,4,0],[21,29,4,0,"_dependencyMap"],[21,43,4,0],[22,2,18,7],[22,8,18,13,"useAuthStore"],[22,20,18,25],[22,23,18,28],[22,27,18,28,"create"],[22,35,18,34],[22,36,18,34,"create"],[22,42,18,34],[22,44,18,46],[22,45,18,47,"set"],[22,48,18,50],[22,50,18,52,"get"],[22,53,18,55],[22,59,18,61],[23,4,19,2,"user"],[23,8,19,6],[23,10,19,8],[23,14,19,12],[24,4,20,2,"token"],[24,9,20,7],[24,11,20,9],[24,15,20,13],[25,4,21,2,"isLoading"],[25,13,21,11],[25,15,21,13],[25,19,21,17],[26,4,22,2,"isAuthenticated"],[26,19,22,17],[26,21,22,19],[26,26,22,24],[27,4,24,2,"setUser"],[27,11,24,9],[27,13,24,12,"user"],[27,17,24,16],[27,21,24,21,"set"],[27,24,24,24],[27,25,24,25],[28,6,24,27,"user"],[28,10,24,31],[29,6,24,33,"isAuthenticated"],[29,21,24,48],[29,23,24,50],[29,24,24,51],[29,25,24,52,"user"],[30,4,24,57],[30,5,24,58],[30,6,24,59],[31,4,26,2,"setToken"],[31,12,26,10],[31,14,26,13,"token"],[31,19,26,18],[31,23,26,23],[32,6,27,4,"api"],[32,18,27,7],[32,19,27,7,"api"],[32,22,27,7],[32,23,27,8,"setToken"],[32,31,27,16],[32,32,27,17,"token"],[32,37,27,22],[32,38,27,23],[33,6,28,4,"set"],[33,9,28,7],[33,10,28,8],[34,8,28,10,"token"],[35,6,28,16],[35,7,28,17],[35,8,28,18],[36,4,29,2],[36,5,29,3],[37,4,31,2,"login"],[37,9,31,7],[37,11,31,9],[37,17,31,16,"sessionId"],[37,26,31,33],[37,30,31,38],[38,6,32,4],[38,10,32,8],[39,8,33,6,"set"],[39,11,33,9],[39,12,33,10],[40,10,33,12,"isLoading"],[40,19,33,21],[40,21,33,23],[41,8,33,28],[41,9,33,29],[41,10,33,30],[42,8,34,6],[42,14,34,12,"result"],[42,20,34,18],[42,23,34,21],[42,29,34,27,"api"],[42,41,34,30],[42,42,34,30,"api"],[42,45,34,30],[42,46,34,31,"createSession"],[42,59,34,44],[42,60,34,45,"sessionId"],[42,69,34,54],[42,70,34,55],[43,8,35,6],[43,14,35,12,"AsyncStorage"],[43,26,35,24],[43,27,35,24,"default"],[43,34,35,24],[43,35,35,25,"setItem"],[43,42,35,32],[43,43,35,33],[43,58,35,48],[43,60,35,50,"result"],[43,66,35,56],[43,67,35,57,"session_token"],[43,80,35,70],[43,81,35,71],[44,8,36,6,"api"],[44,20,36,9],[44,21,36,9,"api"],[44,24,36,9],[44,25,36,10,"setToken"],[44,33,36,18],[44,34,36,19,"result"],[44,40,36,25],[44,41,36,26,"session_token"],[44,54,36,39],[44,55,36,40],[45,8,37,6,"set"],[45,11,37,9],[45,12,37,10],[46,10,38,8,"user"],[46,14,38,12],[46,16,38,14,"result"],[46,22,38,20],[46,23,38,21,"user"],[46,27,38,25],[47,10,39,8,"token"],[47,15,39,13],[47,17,39,15,"result"],[47,23,39,21],[47,24,39,22,"session_token"],[47,37,39,35],[48,10,40,8,"isAuthenticated"],[48,25,40,23],[48,27,40,25],[48,31,40,29],[49,10,41,8,"isLoading"],[49,19,41,17],[49,21,41,19],[50,8,42,6],[50,9,42,7],[50,10,42,8],[51,6,43,4],[51,7,43,5],[51,8,43,6],[51,15,43,13,"error"],[51,20,43,18],[51,22,43,20],[52,8,44,6,"set"],[52,11,44,9],[52,12,44,10],[53,10,44,12,"isLoading"],[53,19,44,21],[53,21,44,23],[54,8,44,29],[54,9,44,30],[54,10,44,31],[55,8,45,6],[55,14,45,12,"error"],[55,19,45,17],[56,6,46,4],[57,4,47,2],[57,5,47,3],[58,4,49,2,"logout"],[58,10,49,8],[58,12,49,10],[58,18,49,10,"logout"],[58,19,49,10],[58,24,49,22],[59,6,50,4],[59,10,50,8],[60,8,51,6],[60,14,51,12,"api"],[60,26,51,15],[60,27,51,15,"api"],[60,30,51,15],[60,31,51,16,"logout"],[60,37,51,22],[60,38,51,23],[60,39,51,24],[61,6,52,4],[61,7,52,5],[61,8,52,6],[61,15,52,13,"error"],[61,20,52,18],[61,22,52,20],[62,8,53,6,"console"],[62,15,53,13],[62,16,53,14,"error"],[62,21,53,19],[62,22,53,20],[62,37,53,35],[62,39,53,37,"error"],[62,44,53,42],[62,45,53,43],[63,6,54,4],[64,6,55,4],[64,12,55,10,"AsyncStorage"],[64,24,55,22],[64,25,55,22,"default"],[64,32,55,22],[64,33,55,23,"removeItem"],[64,43,55,33],[64,44,55,34],[64,59,55,49],[64,60,55,50],[65,6,56,4,"api"],[65,18,56,7],[65,19,56,7,"api"],[65,22,56,7],[65,23,56,8,"setToken"],[65,31,56,16],[65,32,56,17],[65,36,56,21],[65,37,56,22],[66,6,57,4,"set"],[66,9,57,7],[66,10,57,8],[67,8,57,10,"user"],[67,12,57,14],[67,14,57,16],[67,18,57,20],[68,8,57,22,"token"],[68,13,57,27],[68,15,57,29],[68,19,57,33],[69,8,57,35,"isAuthenticated"],[69,23,57,50],[69,25,57,52],[70,6,57,58],[70,7,57,59],[70,8,57,60],[71,4,58,2],[71,5,58,3],[72,4,60,2,"checkAuth"],[72,13,60,11],[72,15,60,13],[72,21,60,13,"checkAuth"],[72,22,60,13],[72,27,60,25],[73,6,61,4],[73,10,61,8],[74,8,62,6,"set"],[74,11,62,9],[74,12,62,10],[75,10,62,12,"isLoading"],[75,19,62,21],[75,21,62,23],[76,8,62,28],[76,9,62,29],[76,10,62,30],[77,8,63,6],[77,14,63,12,"token"],[77,19,63,17],[77,22,63,20],[77,28,63,26,"AsyncStorage"],[77,40,63,38],[77,41,63,38,"default"],[77,48,63,38],[77,49,63,39,"getItem"],[77,56,63,46],[77,57,63,47],[77,72,63,62],[77,73,63,63],[78,8,64,6],[78,12,64,10,"token"],[78,17,64,15],[78,19,64,17],[79,10,65,8,"api"],[79,22,65,11],[79,23,65,11,"api"],[79,26,65,11],[79,27,65,12,"setToken"],[79,35,65,20],[79,36,65,21,"token"],[79,41,65,26],[79,42,65,27],[80,10,66,8],[80,16,66,14,"user"],[80,20,66,18],[80,23,66,21],[80,29,66,27,"api"],[80,41,66,30],[80,42,66,30,"api"],[80,45,66,30],[80,46,66,31,"getMe"],[80,51,66,36],[80,52,66,37],[80,53,66,38],[81,10,67,8,"set"],[81,13,67,11],[81,14,67,12],[82,12,67,14,"user"],[82,16,67,18],[83,12,67,20,"token"],[83,17,67,25],[84,12,67,27,"isAuthenticated"],[84,27,67,42],[84,29,67,44],[84,33,67,48],[85,12,67,50,"isLoading"],[85,21,67,59],[85,23,67,61],[86,10,67,67],[86,11,67,68],[86,12,67,69],[87,8,68,6],[87,9,68,7],[87,15,68,13],[88,10,69,8,"set"],[88,13,69,11],[88,14,69,12],[89,12,69,14,"isLoading"],[89,21,69,23],[89,23,69,25],[90,10,69,31],[90,11,69,32],[90,12,69,33],[91,8,70,6],[92,6,71,4],[92,7,71,5],[92,8,71,6],[92,15,71,13,"error"],[92,20,71,18],[92,22,71,20],[93,8,72,6,"console"],[93,15,72,13],[93,16,72,14,"error"],[93,21,72,19],[93,22,72,20],[93,41,72,39],[93,43,72,41,"error"],[93,48,72,46],[93,49,72,47],[94,8,73,6],[94,14,73,12,"AsyncStorage"],[94,26,73,24],[94,27,73,24,"default"],[94,34,73,24],[94,35,73,25,"removeItem"],[94,45,73,35],[94,46,73,36],[94,61,73,51],[94,62,73,52],[95,8,74,6,"api"],[95,20,74,9],[95,21,74,9,"api"],[95,24,74,9],[95,25,74,10,"setToken"],[95,33,74,18],[95,34,74,19],[95,38,74,23],[95,39,74,24],[96,8,75,6,"set"],[96,11,75,9],[96,12,75,10],[97,10,75,12,"user"],[97,14,75,16],[97,16,75,18],[97,20,75,22],[98,10,75,24,"token"],[98,15,75,29],[98,17,75,31],[98,21,75,35],[99,10,75,37,"isAuthenticated"],[99,25,75,52],[99,27,75,54],[99,32,75,59],[100,10,75,61,"isLoading"],[100,19,75,70],[100,21,75,72],[101,8,75,78],[101,9,75,79],[101,10,75,80],[102,6,76,4],[103,4,77,2],[104,2,78,0],[104,3,78,1],[104,4,78,2],[104,5,78,3],[105,0,78,4],[105,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","login","logout","checkAuth"],"mappings":"AAA;8CCiB;WCM,gDD;YEE;GFG;SGE;GHgB;UIE;GJS;aKE;GLiB;EDC"},"hasCjsExports":false},"type":"js/module"}]}