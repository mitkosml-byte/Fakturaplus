{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":38,"index":175}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setToken: token => {\n      _servicesApi.api.setToken(token);\n      set({\n        token\n      });\n    },\n    login: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (sessionId) {\n        try {\n          set({\n            isLoading: true\n          });\n          var result = yield _servicesApi.api.createSession(sessionId);\n          yield AsyncStorage.default.setItem('session_token', result.session_token);\n          _servicesApi.api.setToken(result.session_token);\n          set({\n            user: result.user,\n            token: result.session_token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } catch (error) {\n          set({\n            isLoading: false\n          });\n          throw error;\n        }\n      });\n      return function login(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    logout: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          yield _servicesApi.api.logout();\n        } catch (error) {\n          console.error('Logout error:', error);\n        }\n        yield AsyncStorage.default.removeItem('session_token');\n        _servicesApi.api.setToken(null);\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false\n        });\n      });\n      return function logout() {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    checkAuth: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          set({\n            isLoading: true\n          });\n          var token = yield AsyncStorage.default.getItem('session_token');\n          if (token) {\n            _servicesApi.api.setToken(token);\n            var user = yield _servicesApi.api.getMe();\n            set({\n              user,\n              token,\n              isAuthenticated: true,\n              isLoading: false\n            });\n          } else {\n            set({\n              isLoading: false\n            });\n          }\n        } catch (error) {\n          console.error('Auth check error:', error);\n          yield AsyncStorage.default.removeItem('session_token');\n          _servicesApi.api.setToken(null);\n          set({\n            user: null,\n            token: null,\n            isAuthenticated: false,\n            isLoading: false\n          });\n        }\n      });\n      return function checkAuth() {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    refreshUser: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var user = yield _servicesApi.api.getMe();\n          set({\n            user\n          });\n        } catch (error) {\n          console.error('Refresh user error:', error);\n        }\n      });\n      return function refreshUser() {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":137,"map":[[12,2,19,0,"Object"],[12,8,19,0],[12,9,19,0,"defineProperty"],[12,23,19,0],[12,24,19,0,"exports"],[12,31,19,0],[13,4,19,0,"enumerable"],[13,14,19,0],[14,4,19,0,"get"],[14,7,19,0],[14,18,19,0,"get"],[14,19,19,0],[15,6,19,0],[15,13,19,0,"useAuthStore"],[15,25,19,0],[16,4,19,0],[17,2,19,0],[18,2,88,4],[18,6,88,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,88,4],[18,45,88,4,"require"],[18,52,88,4],[18,53,88,4,"_dependencyMap"],[18,67,88,4],[19,2,88,4],[19,6,88,4,"_asyncToGenerator"],[19,23,88,4],[19,26,88,4,"_interopDefault"],[19,41,88,4],[19,42,88,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,88,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,4,0],[23,6,4,0,"_servicesApi"],[23,18,4,0],[23,21,4,0,"require"],[23,28,4,0],[23,29,4,0,"_dependencyMap"],[23,43,4,0],[24,2,19,7],[24,6,19,13,"useAuthStore"],[24,18,19,25],[24,21,19,28],[24,25,19,28,"create"],[24,33,19,34],[24,34,19,34,"create"],[24,40,19,34],[24,42,19,46],[24,43,19,47,"set"],[24,46,19,50],[24,48,19,52,"get"],[24,51,19,55],[24,57,19,61],[25,4,20,2,"user"],[25,8,20,6],[25,10,20,8],[25,14,20,12],[26,4,21,2,"token"],[26,9,21,7],[26,11,21,9],[26,15,21,13],[27,4,22,2,"isLoading"],[27,13,22,11],[27,15,22,13],[27,19,22,17],[28,4,23,2,"isAuthenticated"],[28,19,23,17],[28,21,23,19],[28,26,23,24],[29,4,25,2,"setUser"],[29,11,25,9],[29,13,25,12,"user"],[29,17,25,16],[29,21,25,21,"set"],[29,24,25,24],[29,25,25,25],[30,6,25,27,"user"],[30,10,25,31],[31,6,25,33,"isAuthenticated"],[31,21,25,48],[31,23,25,50],[31,24,25,51],[31,25,25,52,"user"],[32,4,25,57],[32,5,25,58],[32,6,25,59],[33,4,27,2,"setToken"],[33,12,27,10],[33,14,27,13,"token"],[33,19,27,18],[33,23,27,23],[34,6,28,4,"api"],[34,18,28,7],[34,19,28,7,"api"],[34,22,28,7],[34,23,28,8,"setToken"],[34,31,28,16],[34,32,28,17,"token"],[34,37,28,22],[34,38,28,23],[35,6,29,4,"set"],[35,9,29,7],[35,10,29,8],[36,8,29,10,"token"],[37,6,29,16],[37,7,29,17],[37,8,29,18],[38,4,30,2],[38,5,30,3],[39,4,32,2,"login"],[39,9,32,7],[40,6,32,7],[40,10,32,7,"_ref"],[40,14,32,7],[40,21,32,7,"_asyncToGenerator"],[40,38,32,7],[40,39,32,7,"default"],[40,46,32,7],[40,48,32,9],[40,59,32,16,"sessionId"],[40,68,32,33],[40,70,32,38],[41,8,33,4],[41,12,33,8],[42,10,34,6,"set"],[42,13,34,9],[42,14,34,10],[43,12,34,12,"isLoading"],[43,21,34,21],[43,23,34,23],[44,10,34,28],[44,11,34,29],[44,12,34,30],[45,10,35,6],[45,14,35,12,"result"],[45,20,35,18],[45,29,35,27,"api"],[45,41,35,30],[45,42,35,30,"api"],[45,45,35,30],[45,46,35,31,"createSession"],[45,59,35,44],[45,60,35,45,"sessionId"],[45,69,35,54],[45,70,35,55],[46,10,36,6],[46,16,36,12,"AsyncStorage"],[46,28,36,24],[46,29,36,24,"default"],[46,36,36,24],[46,37,36,25,"setItem"],[46,44,36,32],[46,45,36,33],[46,60,36,48],[46,62,36,50,"result"],[46,68,36,56],[46,69,36,57,"session_token"],[46,82,36,70],[46,83,36,71],[47,10,37,6,"api"],[47,22,37,9],[47,23,37,9,"api"],[47,26,37,9],[47,27,37,10,"setToken"],[47,35,37,18],[47,36,37,19,"result"],[47,42,37,25],[47,43,37,26,"session_token"],[47,56,37,39],[47,57,37,40],[48,10,38,6,"set"],[48,13,38,9],[48,14,38,10],[49,12,39,8,"user"],[49,16,39,12],[49,18,39,14,"result"],[49,24,39,20],[49,25,39,21,"user"],[49,29,39,25],[50,12,40,8,"token"],[50,17,40,13],[50,19,40,15,"result"],[50,25,40,21],[50,26,40,22,"session_token"],[50,39,40,35],[51,12,41,8,"isAuthenticated"],[51,27,41,23],[51,29,41,25],[51,33,41,29],[52,12,42,8,"isLoading"],[52,21,42,17],[52,23,42,19],[53,10,43,6],[53,11,43,7],[53,12,43,8],[54,8,44,4],[54,9,44,5],[54,10,44,6],[54,17,44,13,"error"],[54,22,44,18],[54,24,44,20],[55,10,45,6,"set"],[55,13,45,9],[55,14,45,10],[56,12,45,12,"isLoading"],[56,21,45,21],[56,23,45,23],[57,10,45,29],[57,11,45,30],[57,12,45,31],[58,10,46,6],[58,16,46,12,"error"],[58,21,46,17],[59,8,47,4],[60,6,48,2],[60,7,48,3],[61,6,48,3],[61,22,32,2,"login"],[61,27,32,7,"login"],[61,28,32,7,"_x"],[61,30,32,7],[62,8,32,7],[62,15,32,7,"_ref"],[62,19,32,7],[62,20,32,7,"apply"],[62,25,32,7],[62,32,32,7,"arguments"],[62,41,32,7],[63,6,32,7],[64,4,32,7],[64,7,48,3],[65,4,50,2,"logout"],[65,10,50,8],[66,6,50,8],[66,10,50,8,"_ref2"],[66,15,50,8],[66,22,50,8,"_asyncToGenerator"],[66,39,50,8],[66,40,50,8,"default"],[66,47,50,8],[66,49,50,10],[66,62,50,22],[67,8,51,4],[67,12,51,8],[68,10,52,6],[68,16,52,12,"api"],[68,28,52,15],[68,29,52,15,"api"],[68,32,52,15],[68,33,52,16,"logout"],[68,39,52,22],[68,40,52,23],[68,41,52,24],[69,8,53,4],[69,9,53,5],[69,10,53,6],[69,17,53,13,"error"],[69,22,53,18],[69,24,53,20],[70,10,54,6,"console"],[70,17,54,13],[70,18,54,14,"error"],[70,23,54,19],[70,24,54,20],[70,39,54,35],[70,41,54,37,"error"],[70,46,54,42],[70,47,54,43],[71,8,55,4],[72,8,56,4],[72,14,56,10,"AsyncStorage"],[72,26,56,22],[72,27,56,22,"default"],[72,34,56,22],[72,35,56,23,"removeItem"],[72,45,56,33],[72,46,56,34],[72,61,56,49],[72,62,56,50],[73,8,57,4,"api"],[73,20,57,7],[73,21,57,7,"api"],[73,24,57,7],[73,25,57,8,"setToken"],[73,33,57,16],[73,34,57,17],[73,38,57,21],[73,39,57,22],[74,8,58,4,"set"],[74,11,58,7],[74,12,58,8],[75,10,58,10,"user"],[75,14,58,14],[75,16,58,16],[75,20,58,20],[76,10,58,22,"token"],[76,15,58,27],[76,17,58,29],[76,21,58,33],[77,10,58,35,"isAuthenticated"],[77,25,58,50],[77,27,58,52],[78,8,58,58],[78,9,58,59],[78,10,58,60],[79,6,59,2],[79,7,59,3],[80,6,59,3],[80,22,50,2,"logout"],[80,28,50,8,"logout"],[80,29,50,8],[81,8,50,8],[81,15,50,8,"_ref2"],[81,20,50,8],[81,21,50,8,"apply"],[81,26,50,8],[81,33,50,8,"arguments"],[81,42,50,8],[82,6,50,8],[83,4,50,8],[83,7,59,3],[84,4,61,2,"checkAuth"],[84,13,61,11],[85,6,61,11],[85,10,61,11,"_ref3"],[85,15,61,11],[85,22,61,11,"_asyncToGenerator"],[85,39,61,11],[85,40,61,11,"default"],[85,47,61,11],[85,49,61,13],[85,62,61,25],[86,8,62,4],[86,12,62,8],[87,10,63,6,"set"],[87,13,63,9],[87,14,63,10],[88,12,63,12,"isLoading"],[88,21,63,21],[88,23,63,23],[89,10,63,28],[89,11,63,29],[89,12,63,30],[90,10,64,6],[90,14,64,12,"token"],[90,19,64,17],[90,28,64,26,"AsyncStorage"],[90,40,64,38],[90,41,64,38,"default"],[90,48,64,38],[90,49,64,39,"getItem"],[90,56,64,46],[90,57,64,47],[90,72,64,62],[90,73,64,63],[91,10,65,6],[91,14,65,10,"token"],[91,19,65,15],[91,21,65,17],[92,12,66,8,"api"],[92,24,66,11],[92,25,66,11,"api"],[92,28,66,11],[92,29,66,12,"setToken"],[92,37,66,20],[92,38,66,21,"token"],[92,43,66,26],[92,44,66,27],[93,12,67,8],[93,16,67,14,"user"],[93,20,67,18],[93,29,67,27,"api"],[93,41,67,30],[93,42,67,30,"api"],[93,45,67,30],[93,46,67,31,"getMe"],[93,51,67,36],[93,52,67,37],[93,53,67,38],[94,12,68,8,"set"],[94,15,68,11],[94,16,68,12],[95,14,68,14,"user"],[95,18,68,18],[96,14,68,20,"token"],[96,19,68,25],[97,14,68,27,"isAuthenticated"],[97,29,68,42],[97,31,68,44],[97,35,68,48],[98,14,68,50,"isLoading"],[98,23,68,59],[98,25,68,61],[99,12,68,67],[99,13,68,68],[99,14,68,69],[100,10,69,6],[100,11,69,7],[100,17,69,13],[101,12,70,8,"set"],[101,15,70,11],[101,16,70,12],[102,14,70,14,"isLoading"],[102,23,70,23],[102,25,70,25],[103,12,70,31],[103,13,70,32],[103,14,70,33],[104,10,71,6],[105,8,72,4],[105,9,72,5],[105,10,72,6],[105,17,72,13,"error"],[105,22,72,18],[105,24,72,20],[106,10,73,6,"console"],[106,17,73,13],[106,18,73,14,"error"],[106,23,73,19],[106,24,73,20],[106,43,73,39],[106,45,73,41,"error"],[106,50,73,46],[106,51,73,47],[107,10,74,6],[107,16,74,12,"AsyncStorage"],[107,28,74,24],[107,29,74,24,"default"],[107,36,74,24],[107,37,74,25,"removeItem"],[107,47,74,35],[107,48,74,36],[107,63,74,51],[107,64,74,52],[108,10,75,6,"api"],[108,22,75,9],[108,23,75,9,"api"],[108,26,75,9],[108,27,75,10,"setToken"],[108,35,75,18],[108,36,75,19],[108,40,75,23],[108,41,75,24],[109,10,76,6,"set"],[109,13,76,9],[109,14,76,10],[110,12,76,12,"user"],[110,16,76,16],[110,18,76,18],[110,22,76,22],[111,12,76,24,"token"],[111,17,76,29],[111,19,76,31],[111,23,76,35],[112,12,76,37,"isAuthenticated"],[112,27,76,52],[112,29,76,54],[112,34,76,59],[113,12,76,61,"isLoading"],[113,21,76,70],[113,23,76,72],[114,10,76,78],[114,11,76,79],[114,12,76,80],[115,8,77,4],[116,6,78,2],[116,7,78,3],[117,6,78,3],[117,22,61,2,"checkAuth"],[117,31,61,11,"checkAuth"],[117,32,61,11],[118,8,61,11],[118,15,61,11,"_ref3"],[118,20,61,11],[118,21,61,11,"apply"],[118,26,61,11],[118,33,61,11,"arguments"],[118,42,61,11],[119,6,61,11],[120,4,61,11],[120,7,78,3],[121,4,80,2,"refreshUser"],[121,15,80,13],[122,6,80,13],[122,10,80,13,"_ref4"],[122,15,80,13],[122,22,80,13,"_asyncToGenerator"],[122,39,80,13],[122,40,80,13,"default"],[122,47,80,13],[122,49,80,15],[122,62,80,27],[123,8,81,4],[123,12,81,8],[124,10,82,6],[124,14,82,12,"user"],[124,18,82,16],[124,27,82,25,"api"],[124,39,82,28],[124,40,82,28,"api"],[124,43,82,28],[124,44,82,29,"getMe"],[124,49,82,34],[124,50,82,35],[124,51,82,36],[125,10,83,6,"set"],[125,13,83,9],[125,14,83,10],[126,12,83,12,"user"],[127,10,83,17],[127,11,83,18],[127,12,83,19],[128,8,84,4],[128,9,84,5],[128,10,84,6],[128,17,84,13,"error"],[128,22,84,18],[128,24,84,20],[129,10,85,6,"console"],[129,17,85,13],[129,18,85,14,"error"],[129,23,85,19],[129,24,85,20],[129,45,85,41],[129,47,85,43,"error"],[129,52,85,48],[129,53,85,49],[130,8,86,4],[131,6,87,2],[131,7,87,3],[132,6,87,3],[132,22,80,2,"refreshUser"],[132,33,80,13,"refreshUser"],[132,34,80,13],[133,8,80,13],[133,15,80,13,"_ref4"],[133,20,80,13],[133,21,80,13,"apply"],[133,26,80,13],[133,33,80,13,"arguments"],[133,42,80,13],[134,6,80,13],[135,4,80,13],[136,2,88,0],[136,3,88,1],[136,4,88,2],[136,5,88,3],[137,0,88,4],[137,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","login","logout","checkAuth","refreshUser"],"mappings":"AAA;8CCkB;WCM,gDD;YEE;GFG;SGE;GHgB;UIE;GJS;aKE;GLiB;eME;GNO;EDC"},"hasCjsExports":false},"type":"js/module"}]}